<!DOCTYPE html>
<!-- Juan Salamanca 2019 -->

<html>

<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Agent-based modeling of color proximity</title>

  <!-- CSS -->
  <style>
  p{font-size:11px;}
  </style>
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

  <script src="libs/p5.js" type="text/javascript"></script>
  <script src="libs/p5.dom.js" type="text/javascript"></script>
  <script src="libs/chroma.min.js" type="text/javascript"></script>

  <!-- Code -->
  <script src="src/main/P5_main.js" type="text/javascript"></script>
  <script src="src/main/P5_heatmap.js" type="text/javascript"></script>
  <script src="src/main/P5_viscosityChart.js" type="text/javascript"></script>
  <script src="src/world.js" type="text/javascript"></script>
  <script src="src/agents/agent.js" type="text/javascript"></script>
  <script src="src/agents/humanAgent.js" type="text/javascript"></script>
  <script src="src/agents/nonhumanAgent.js" type="text/javascript"></script>
  <script src="src/visualAgents/vAgent.js" type="text/javascript"></script>
  <script src="src/colorFactory.js" type="text/javascript"></script>

  <!-- Visualization code -->
  <script src="src/dataViz/visualInteractionMatrix.js" type="text/javascript"></script>
  <script src="src/dataViz/lattice.js" type="text/javascript"></script>
  <script src='src/dataViz/chart.js' type="text/javascript"></script>

  <!-- Utils -->
  <script src="src/utils/utils.js" type="text/javascript"></script>

  <!-- Metrics -->
  <script src="src/metrics/metrics.js" type="text/javascript"></script>

  <!-- Mental models -->
  <script src="src/mentalModels/cMentalModel.js" type="text/javascript"></script>
  <script src="src/mentalModels/sMentalModel.js" type="text/javascript"></script>

  <!-- Libraries -->
  <script src="libs/chroma.js" type="text/javascript"></script>

  <!-- utility library https://lodash.com/-->
  <!--script src='https://cdn.jsdelivr.net/g/lodash@4(lodash.min.js+lodash.fp.min.js)'></script>-->
  <script src="libs/lodash.min.js" type="text/javascript"></script>

</head>


<body>

  <!-- NAVBAR & HEADER -->
  <nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
      <div class="row">
        <div class="navbar-header" style="margin-top:10px">
          <p style="font-size:12px; color:grey;"> <img class="img-responsive" src="images/D4SVwhite.png" width="160"> Design for social viscosity lab. <br> University of Illinois  Urbana-Champaign</p>
        </div>
        <ul class="nav navbar-nav">
          <li><a href="#Description">Model description</a></li>
          <li><a href="#Simulation">Simulation</a></li>
          <li><a href="#Charts">Charts</a></li>
          <li><a href="#References">References</a></li>
          <li><a href="https://github.com/SocialViscosityLab/ColorAgents" target="_blank">GitHub</a></li>
        </ul>
      </div>

      <div class="row">

        <div class = "col-sm-12">
          <h4 style="color:white;">Agent-based model of color proximity </h4>
        </div>
      </div>

      <div class="row">
        <!-- Color Factory -->
        <div class="col-sm-3">
          <p style="font-size:12px; color:grey;"><b>Color factory:</b> A factory of predifined color palettes to be asigned to human agents' mental models</p>
          <p style="font-size:12px; color:grey;">
            <select id="cFactory">
              <option value="test">Triad</option>
              <option value="secondary">Secondary</option>
              <option value="newton">Newton</option>
              <option value='munsell' selected>Munsell</option>
            </select>
          </p>
        </div>


        <!-- Interaction rule -->
        <div class="col-sm-3">
          <p style="font-size:12px; color:grey;">
            <b>Interaction rule:</b> How agents choose their interactants from the world</p>
            <p style="font-size:12px; color:grey;">
              <select id="rule">
                <option value =""> Interaction rule</option>
                <option value="all">all</option>
                <option value="nClosest" selected>N closest</option>
                <option value="radius">by radius</option>
                <option value='byField'>by visual perception field</option>
              </select>
            </p>

            <div class="row">
              <!-- Slider radius -->
              <div class='col-lg-12'>
                <p style="font-size:12px; color:grey;">
                  Set N closest, radius or visual perception field <br>
                  <input type="range" min="0" max="29" value="1" id="range"></input>
                  <span id="sliderValue" > 1 </span>
                </p>
              </div>
            </div>
          </div>


          <!-- sensibility -->
          <div class="col-sm-3">
            <p style="font-size:12px; color:grey;">
              <b>Sensibility: </b> How agents estimate their proximity to their interactants based on their color mental model. Inspired by
              Stevens' psychophysics (1975).
            </p>
            <p style="font-size:12px; color:grey;">
              <select id="sensibility">
                <option value="linear">Linear function</option>
                <option value="exponential">Exponential function</option>
              </select>
            </p>
          </div>

          <!-- Slider change threshold magnitude -->
          <div class="col-sm-3">
            <p style="font-size:12px; color:grey;">
              <b>Tolerance: </b> The agents' conformity to displacement from expected distances to interactants<br>
              <input type="range" min="0" max="20" value="8" id="changeMagnitude"></input>
              <span id="sliderChangeMagnitude" > 8 </span>
            </p>
          </div>
        </div>
      </div>
    </nav>

    <!-- END NAVBAR & HEADER -->
    <a name="Description"></a>
    <div class="container">
      <!-- DESCRIPTION -->
      <a name="Simulation"></a>
      <div class="row">
        <div class = "col-lg-12">
          <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
          <b>Model description</b>
          <p style="font-size:14px;">
            Lorem Ipsum is simply dummy text of the printing and typesetting industry.
            Lorem Ipsum has been the industry's standard dummy text ever since the 1500s,
            when an unknown printer took a galley of type and scrambled it to make a
            type specimen book. It has survived not only five centuries, but also the
            leap into electronic typesetting, remaining essentially unchanged. It was
            popularised in the 1960s with the release of Letraset sheets containing Lorem
            Ipsum passages, and more recently with desktop publishing software like Aldus
            PageMaker including versions of Lorem Ipsum.
          </p>

        </div>
      </div>

      <hr>

      <!-- SIMULATION -->
      <div class="row">
        <div class = "col-lg-12">
          <b>Simulation</b>
        </div>
      </div>

      <div class='row'>

        <!-- Control simulation buttons -->
        <div class="col-lg-2">
          <p>
            <br>
            <button  type = "button" id = "run" > Run Simulation </button>
            <button  type = "button" id = "reset" > Reset </button>
            <br>
          </p>

          <!-- Visibility Buttons -->
          <p><br><b>Visibility controls</b></p>
          <p><input  type = "checkbox" id = "showAgents" checked> Show agents </input></p>
          <p><input  type = "checkbox" id = "showTrajectories" > Show trajectories </input></p>
          <p><input  type = "checkbox" id = "showInteractions" checked> Show interactions </input></p>
          <p><input  type = "checkbox" id = "showPerceptionField" checked> Show perception field </input></p>
          <hr>
          <p><b>Export</b></p>
          <p> <button  type = "button" id = "trajectories_to_JSON" > Trajectories to JSON</button> </p>

        </div>

        <!-- SIMULATION CANVAS -->
        <div class="col-lg-10">
          <p style = "font-size:12px">Observers in the world: <span id="agentsInWorld" > 0 </span> &nbsp | &nbsp Humans: <span id="humansInWorld" > 0 </span> &nbsp  | &nbsp Nonhumans: <span id="nonhumansInWorld" > 0 </span></p>
          <a name="Charts"></a>
          <div id="ColorAgents" align="center"></div>
        </div>

      </div>

      <hr>

      <!-- CHARTS -->
      <div class="row">
        <div class = "col-lg-12">
          <b>Charts</b>
        </div>
      </div>

      <br>

      <div class = "row">
        <div class = "col-sm-2">
          <p><input  type = "checkbox" id = "showMatrix" checked> Show interaction matrix </input></p>
          <p><input  type = "checkbox" id = "showSeries" checked> Plot global viscosity </input></p>
          <p><input  type = "checkbox" id = "showIndividualSeries"> Plot viscosity for each agent </input></p>

          <hr>
          <p><b>Export</b></p>
          <p> <button  type = "button" id = "viscosities_to_JSON" > Viscosities to JSON</button> </p>
        </div>

        <!-- MATRIX -->
        <div class="col-sm-5">
          <p style = "font-size:12px">Interaction matrix</p>
          <div id="PlotMatrix"></div>
        </div>

        <!-- VISCOSITY CHART -->
        <div class = "col-sm-5">
          <p style = "font-size:12px">Viscosity chart</p>
          <div id="TimeSeries"></div>
          <p style = "font-size:12px">Tick selector chart</p>
          <input type="range" min="0" max="300" value="0" id="ticks"></input>
          <span id="sliderTicks" > 0 </span>
        </div>
      </div>
      <!-- END OF LAST ROW-->

      <hr>
      <a name="References"></a>
      <!-- References -->
      <div class = "row">
        <h5 id="references">References</h5>

        <p>
          <a href="http://tools.medialab.sciences-po.fr/iwanthue/" target="_blank">I Want Hue </a>,
          <a href="http://gka.github.io/chroma.js/#color-luminance" target="_blank">chroma.js </a>,
          <a href="http://p5js.org" target="_blank">P5.js</a>,
          <a href="http://colormine.org/color-converter" target="_blank">Color converter</a>,
          <a href="http://handprint.com/LS/CVS/color.html" target="_blank">Color vision theory</a>,
          <a href="https://colorusage.arc.nasa.gov" target="_blank"> Color in Information display graphics</a>
        </p>

        <p style="font-size:11px"> Juan Salamanca 2019 &nbsp | &nbsp Made with <a href="http://P5js.org" target="self"> P5.js</a></p>
      </div>
    </div>
  </body>
  </html>
